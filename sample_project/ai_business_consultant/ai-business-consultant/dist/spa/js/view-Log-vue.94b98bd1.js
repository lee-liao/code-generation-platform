(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"73e0":function(e,t,a){"use strict";a("cbf0")},"908c":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"px-10 pt-2"},[a("el-input",{staticClass:"mb-3",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:e.$t("log.taskid")},on:{input:e.handleInputSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),a("el-input",{staticClass:"mb-3 ml-3",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:e.$t("log.traceID")},on:{input:e.handleInputSearch},model:{value:e.searchTraceId,callback:function(t){e.searchTraceId=t},expression:"searchTraceId"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),a("el-select",{staticClass:"ml-3",attrs:{clearable:"",placeholder:e.$t("log.select")},on:{change:e.handleElementSelect},model:{value:e.elementSelect,callback:function(t){e.elementSelect=t},expression:"elementSelect"}},e._l(e.elements,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticClass:"ml-3",attrs:{clearable:"",filterable:"",placeholder:e.$t("log.project")},on:{change:e.handleProjectSelect},model:{value:e.projectSelect,callback:function(t){e.projectSelect=t},expression:"projectSelect"}},e._l(e.projects,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),a("el-select",{staticClass:"ml-3",attrs:{clearable:"",placeholder:e.$t("log.action")},on:{change:e.handleActionSelect},model:{value:e.actionSelect,callback:function(t){e.actionSelect=t},expression:"actionSelect"}},e._l(e.actions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("el-checkbox",{staticClass:"ml-3",on:{change:e.handleCheckbox},model:{value:e.badFeedback,callback:function(t){e.badFeedback=t},expression:"badFeedback"}},[e._v(e._s(e.$t("log.bad")))]),a("el-checkbox",{on:{change:e.handleCheckbox},model:{value:e.badAndUnsolved,callback:function(t){e.badAndUnsolved=t},expression:"badAndUnsolved"}},[e._v(e._s(e.$t("log.badnoSolved")))]),a("el-table",{staticClass:"mb-5",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","cell-style":{paddingTop:"5px",paddingBottom:"5px"},"empty-text":e.$t("People.noData")}},[a("el-table-column",{attrs:{prop:"id",width:"80",label:"TraceID",align:"center",fixed:""}}),a("el-table-column",{attrs:{prop:"action",label:e.$t("log.action"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("\n          "+e._s(/^0/.test(t.row.taskid)?"咨询服务":e.getActionLabel(t.row.action)))])]}}])}),a("el-table-column",{attrs:{prop:"taskid",label:e.$t("log.taskid"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(t.row.taskid))])]}}])}),a("el-table-column",{attrs:{prop:"openid",width:"90",label:e.$t("log.openid"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.wxUser?t.row.wxUser.name:"",placement:"top-start"}},[a("div",{staticStyle:{width:"100%",display:"flex","align-items":"center","justify-content":"left","margin-left":"10px"}},[a("j-avatar",{staticClass:"shadow-outline-white -ml-1",attrs:{size:24,avatarUrl:t.row.wxUser?t.row.wxUser.avatarUrl:"",name:"xxxxx"}}),a("span",{staticStyle:{"margin-left":"5px"}},[e._v("\n              "+e._s(t.row.openid.slice(-4)))])],1)])]}}])}),a("el-table-column",{attrs:{prop:"project",label:e.$t("log.project"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"cursor-pointer",on:{click:function(a){return e.gotoProject(t.row)}}},[e._v(e._s(t.row.project))])]}}])}),a("el-table-column",{attrs:{prop:"element",width:"110",label:e.$t("log.element"),align:"center"}}),a("el-table-column",{attrs:{prop:"messages",label:e.$t("log.messages"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleChatHistory(t.row)}}},[e._v("\n          "+e._s(e.$t("log.show"))+"\n        ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDebug(t.row)}}},[e._v("\n          "+e._s(e.$t("log.debug"))+"\n        ")])]}}])}),a("el-table-column",{attrs:{prop:"response",label:e.$t("log.response"),align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleResponse(t.row)}}},[e._v("\n          "+e._s(e.$t("log.show"))+"\n        ")])]}}])}),a("el-table-column",{attrs:{prop:"evaluate",label:e.$t("log.evaluate"),align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1==t.row.evaluate?a("i",{staticClass:"mdui-icon material-icons"},[e._v("thumb_down")]):e._e(),1==t.row.evaluate?a("i",{staticClass:"mdui-icon material-icons"},[e._v("thumb_up")]):e._e(),1==t.row.solved?a("i",{staticClass:"el-icon-success ml-1",staticStyle:{color:"green"}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"feedback",label:e.$t("log.feedback"),align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.feedback?a("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover",content:t.row.feedback}},[a("i",{staticClass:"el-icon-chat-line-square",attrs:{slot:"reference"},slot:"reference"})]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"model",width:"80",label:e.$t("log.model"),align:"center"}}),a("el-table-column",{attrs:{label:e.$t("log.parameter"),width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("temperature: "+e._s(t.row.temperature))]),a("p",[e._v("top_p: "+e._s(t.row.top_p))]),a("p",[e._v("max_tokens: "+e._s(t.row.max_tokens))]),a("p",[e._v("prompt_tokens: "+e._s(t.row.prompt_tokens))]),a("p",[e._v("completion_tokens: "+e._s(t.row.completion_tokens))]),a("p",[e._v("total_tokens: "+e._s(t.row.total_tokens))]),a("div",{staticClass:"name-wrapper",style:{"white-space":"pre-line"},attrs:{slot:"reference"},slot:"reference"},[e._v("\n            "+e._s(t.row.temperature+" , "+t.row.top_p+" , "+t.row.max_tokens+" \n "+t.row.prompt_tokens+" , "+t.row.completion_tokens+" , "+t.row.total_tokens)+"\n          ")])])]}}])}),a("el-table-column",{attrs:{prop:"time_tx",label:e.$t("log.time_tx"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(e.format(t.row.time_tx)))])]}}])}),a("el-table-column",{attrs:{prop:"time_rx",label:e.$t("log.time_rx"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(e.format(t.row.time_rx)))])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{visible:e.chatHistoryDialogVisible,"close-on-click-modal":!1,width:"60%",center:""},on:{"update:visible":function(t){e.chatHistoryDialogVisible=t}}},e._l(e.chatHistory,(function(t){return a("div",{key:t.created,staticClass:"mt-3",staticStyle:{display:"flex"}},[a("div",{staticClass:"column"},[a("span",{staticClass:"mr-3",style:{whiteSpace:"nowrap",width:"250px",color:"#0747A6"}},[e._v(e._s("user"==t.role?e.$t("document.user"):"system"==t.role?e.$t("document.system"):e.$t("document.assistant"))+"\n          "+e._s(e._f("formatDateTime")(t.created))+" :")]),"user"!=t.role?a("vue-markdown",{staticClass:"px-1 py-1 w-full",style:"user"==t.role?"color:black; background: rgb(102, 177, 255) ;":"color:black;background: #DCDFE6;",attrs:{source:t.content}}):e._e(),"user"==t.role?a("span",{staticClass:"px-1 py-1 w-full",style:"user"==t.role?"color:black;whiteSpace: 'pre-line'; background: rgb(102, 177, 255) ;":"color:black;whiteSpace: 'pre-line';background: #DCDFE6;"},[e._v("\n          "+e._s(t.content))]):e._e()],1)])})),0),a("el-dialog",{attrs:{visible:e.responseDialogVisible,"close-on-click-modal":!1,width:"40%",center:""},on:{"update:visible":function(t){e.responseDialogVisible=t}}},[a("div",[e._v("\n      "+e._s(e.responsecontent)+"\n    ")])]),a("el-dialog",{attrs:{visible:e.apiResponseDialogVisible,"close-on-click-modal":!1,width:"60%",center:""},on:{"update:visible":function(t){e.apiResponseDialogVisible=t}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"column",staticStyle:{width:"50%"}},[a("span",[e._v(e._s(e.$t("log.request")))]),a("json-viewer",{staticClass:"w-100% mt-1 ml-3",staticStyle:{"box-shadow":"0 0 8px rgba(0, 0, 0, 0.1)",height:"600px","overflow-y":"auto"},attrs:{value:e.apiJson.request,"expand-depth":5,boxed:"",expanded:""}})],1),a("div",{staticClass:"column",staticStyle:{width:"50%"}},[a("span",[e._v(e._s(e.$t("log.response")))]),a("json-viewer",{staticClass:"w-100% mt-1 ml-3",staticStyle:{"box-shadow":"0 0 8px rgba(0, 0, 0, 0.1)",height:"600px","overflow-y":"auto"},attrs:{value:e.apiJson.response,"expand-depth":5,boxed:"",expanded:""}})],1)])]),a("el-dialog",{attrs:{visible:e.debugDialogVisible,"close-on-click-modal":!1,width:"80%",center:""},on:{"update:visible":function(t){e.debugDialogVisible=t}}},[a("el-form",{staticClass:"w-full",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:e.$t("log.traceID")}},[e._v("\n        "+e._s(e.traceInfo.id)+"\n      ")]),a("el-form-item",{attrs:{label:e.$t("log.action")}},[e._v("\n        "+e._s(/^0/.test(e.traceInfo.taskid)?"咨询服务":e.getActionLabel(e.traceInfo.action))+"\n      ")]),a("el-form-item",{attrs:{label:e.$t("log.taskid")}},[e._v("\n        "+e._s(e.traceInfo.taskid)+"\n      ")]),a("el-form-item",{attrs:{label:e.$t("log.openid")}},[e._v("\n        "+e._s(e.traceInfo.openid)+"\n      ")]),a("el-form-item",{attrs:{label:e.$t("log.project")}},[e._v("\n        "+e._s(e.traceInfo.project)+"\n      ")]),e.traceInfo.kb_id?a("el-form-item",{attrs:{label:e.$t("log.kb_id")}},[a("el-select",{staticClass:"mt-3",attrs:{placeholder:"请选择"},model:{value:e.traceInfo.kb_id,callback:function(t){e.$set(e.traceInfo,"kb_id",t)},expression:"traceInfo.kb_id"}},e._l(e.kbList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),e.traceInfo.kb_id?a("el-form-item",{staticClass:"mt-2",attrs:{label:e.$t("log.kb_prompt")}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.traceInfo.kb_prompt,callback:function(t){e.$set(e.traceInfo,"kb_prompt",t)},expression:"traceInfo.kb_prompt"}})],1):e._e(),a("el-form-item",{attrs:{label:e.$t("log.element")}},[e._v("\n        "+e._s(e.traceInfo.element)+"\n      ")]),a("el-form-item",{attrs:{label:e.$t("log.model")}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.traceInfo.model,callback:function(t){e.$set(e.traceInfo,"model",t)},expression:"traceInfo.model"}},e._l(e.chatmodels,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("log.max_tokens")}},[e._v("\n        "+e._s(e.traceInfo.max_tokens)+"\n      ")]),a("el-form-item",{attrs:{label:e.$t("log.temperature")}},[a("q-slider",{staticClass:"mt-3",attrs:{min:0,max:1,step:.01,label:"","label-always":"",color:"primary"},model:{value:e.traceInfo.temperature,callback:function(t){e.$set(e.traceInfo,"temperature",t)},expression:"traceInfo.temperature"}})],1),a("el-form-item",{attrs:{label:e.$t("log.top_p")}},[a("q-slider",{staticClass:"mt-3",attrs:{min:0,max:1,step:.1,label:"","label-always":"",color:"primary"},model:{value:e.traceInfo.top_p,callback:function(t){e.$set(e.traceInfo,"top_p",t)},expression:"traceInfo.top_p"}})],1),a("el-form-item",{attrs:{label:e.$t("log.llmRequest")}},e._l(e.traceInfo.messages,(function(t,l){return a("div",{key:l,staticClass:"mt-3",staticStyle:{display:"flex"}},[a("span",{staticClass:"row",style:{whiteSpace:"nowrap",width:"90px"}},[e._v(e._s("user"==t.role?e.$t("document.user"):"system"==t.role?e.$t("document.system"):e.$t("document.assistant"))+":")]),"system"==t.role||l==e.traceInfo.messages.length-1?a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}}):a("span",[e._v(e._s(t.content))])],1)})),0),a("el-form-item",{attrs:{label:e.$t("log.llmResponse")}},[a("span",{style:{whiteSpace:"pre-line"}},[e._v(e._s(e.traceInfo.response))])]),a("el-form-item",{attrs:{label:e.$t("log.debugResponse")}},[a("span",{style:{whiteSpace:"pre-line"}},[e._v(e._s(e.traceInfo.debugresponse))])]),a("el-form-item",{staticClass:"mt-10"},[a("div",{staticClass:"row items-center",staticStyle:{width:"100%"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handeSubmit}},[e._v(e._s(e.$t("log.submit")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.debugDialogVisible=!1}}},[e._v(e._s(e.$t("document.Back")))]),a("el-button",{on:{click:e.handleSolved}},[e._v(e._s(e.$t("log.solved")))])],1)])],1)],1)],1)},o=[],n=(a("5319"),a("5b81"),a("750b")),s=(a("ac79"),a("1840")),r=a("5184");const c=r["a"]`
query getOrgLlmTrace($take: Int!,$skip: Int!)  {
    getOrgLlmTrace(take: $take,skip: $skip) { 
        totalCount
        data{
            id
                    evaluate
            feedback
            solved
openid
taskid
project
wxUser{
name
avatarUrl
}
element
model
projectId
temperature
top_p
max_tokens
messages
response
prompt_tokens
completion_tokens
total_tokens
time_tx
time_rx
action
organizationId
createdAt
updatedAt
kb_prompt
kb_id
}
    } 
}
`,i=r["a"]`
query getLlmTraceElement($outtradeno: String!)  {
    getLlmTraceElement(outtradeno: $outtradeno) 
    
}
`,p=r["a"]`
mutation updateLlmTrace ($id: Int!,$llmTrace: LlmTraceUpdateInput!)  {
    updateLlmTrace(id: $id,llmTrace: $llmTrace){
        id
    }
  }
`,u=r["a"]`
query getLlmTrace($take: Int!,$skip: Int!,$outtradeno: String!,$id: Int,$solved: Int,$evaluate: Int,$serviceAction: Int,$project: String,$element: String)  {
    getLlmTrace(take: $take,skip: $skip,outtradeno: $outtradeno,id: $id,solved: $solved,evaluate: $evaluate,serviceAction: $serviceAction,project: $project,element: $element) { 
        totalCount
        data{
            id
            evaluate
            feedback
            solved
openid
taskid
project
element
model
wxUser{
name
avatarUrl
}
temperature
projectId
top_p
max_tokens
messages
response
prompt_tokens
completion_tokens
total_tokens
time_tx
action
time_rx
organizationId
createdAt
updatedAt
kb_prompt
kb_id
}
    } 
}
`,d=r["a"]`
mutation debugChatZhiPuKbByLlmTraceId($top_p: Float!, $temperature: Float!, $messages: String!, $id: Int!,$kb_id: String,$kb_prompt: String,$model: String!) {
  debugChatZhiPuKbByLlmTraceId(top_p: $top_p, temperature: $temperature, messages: $messages, id: $id, kb_id: $kb_id, kb_prompt: $kb_prompt, model: $model)
}
`;a("db56");var m=a("6eb7"),b=(a("b850"),a("5a0c")),g=a.n(b),_=a("9ce6"),v=a.n(_),f=a("7f1b"),k=a("86c4"),h=(a("8ee3"),a("f508")),w=a("fadb"),$=Object(n["defineComponent"])({name:"Login",components:{VueMarkdown:v.a},data(){return{currentPage:1,pageSize:10}},mounted(){Object(w["b"])(this,"isMobile")},setup(e,{root:t}){const{mutate:a}=Object(s["useMutation"])(c),{mutate:l}=Object(s["useMutation"])(u),{mutate:o}=Object(s["useMutation"])(f["a"]),{mutate:r}=Object(s["useMutation"])(p),{mutate:b}=Object(s["useMutation"])(k["e"]),{mutate:_}=Object(s["useMutation"])(i),{mutate:v}=Object(s["useMutation"])(d),w=Object(n["ref"])([]),$=async()=>{const e=await o();e&&(w.value=JSON.parse(e.data.getZhiPuAllKb).data.list)},y=Object(n["ref"])(!1);let x={request:"",respons:""};const S=Object(n["ref"])([]),j=Object(n["ref"])(1),I=Object(n["ref"])(10),C=Object(n["ref"])(0),O=Object(n["ref"])(!1),D=Object(n["ref"])(!1),T=async()=>{const e=await a({take:I.value,skip:(j.value-1)*I.value});e&&(S.value=e.data.getOrgLlmTrace.data,C.value=e.data.getOrgLlmTrace.totalCount)},A=async e=>{sessionStorage.setItem("legalDocumentProjectId",e.projectId),t.$router.push("/workflow")},L=(e,t="YYYY/MM/DD  HH:mm:ss")=>e?g()(e).format(t):e,U=async()=>{window.open("https://open.bigmodel.cn/appcenter_v1/knowledge")},V=Object(n["reactive"])({id:0,taskid:"",openid:"",project:"",element:"",model:"",temperature:.9,top_p:.7,max_tokens:0,messages:[],response:"",debugresponse:"",kb_id:"",kb_prompt:"",action:0}),P=async()=>{const e={solved:1},a=await r({id:V.id,llmTrace:e});a&&m["a"].success(t.$t("notify.Done"))},q=e=>{switch(e){case"SUCCESS":return"支付成功";case"USERPAYING":return"用户支付中";case"REFUND":return"转入退款";case"NOTPAY":return"未支付";case"CLOSED":return"已关闭";case"REFUND":return"转入退款"}},M=e=>{switch(e){case 0:return"案件询问";case 1:return"要素提取";case 2:return"咨询服务";case 3:return"文书生成"}},E=Object(n["ref"])(""),z=Object(n["ref"])(""),N=Object(n["ref"])(!1),R=Object(n["ref"])(!1),F=async()=>{try{const e=await l({take:I.value,skip:(j.value-1)*I.value,outtradeno:E.value,id:""===z.value?null:Number(z.value),solved:R.value?0:null,evaluate:R.value||N.value?-1:null,element:Q.value,serviceAction:""===X.value?null:Number(X.value),project:""===W.value?null:W.value});if(e){S.value=e.data.getLlmTrace.data;const t=await _({outtradeno:E.value});t&&(le.value=t.data.getLlmTraceElement),C.value=e.data.getLlmTrace.totalCount}}catch(e){console.log("---------------error=",e),S.value=[],C.value=0}},J=async()=>{""===E.value&&""===z.value&&""===X.value&&""===W.value?(Q.value="",le.value=[],T()):(j.value=1,F())},H=async()=>{F()},Y=e=>{let t=[],a=null,l=[];for(let r=0;r<e.length;r++){const t=e[r];"system"!==t.role||a?"user"!==t.role&&"assistant"!==t.role||(r==e.length-1?l.push(t.content):l.push(`${t.role}: ${t.content}`)):a=t}a&&t.push(a);let o=l.slice(0,-1).join("\n"),n="```\n"+o+"\n```",s=n+"\n"+l[l.length-1];return l.length>0&&t.push({role:"user",content:s}),console.log(s),t},B=async()=>{try{h["a"].show({message:t.$t("log.debugIn")});let e="";e="0"==V.taskid?JSON.stringify(Y(V.messages)):JSON.stringify(V.messages);const a=await v({top_p:V.top_p,temperature:V.temperature,messages:e,id:V.id,kb_id:V.kb_id,kb_prompt:V.kb_prompt,model:V.model});x.request={top_p:V.top_p,temperature:V.temperature,messages:e,id:V.id,kb_id:V.kb_id,kb_prompt:V.kb_prompt,model:V.model},x.response=a,a&&(V.debugresponse=JSON.parse(a.data.debugChatZhiPuKbByLlmTraceId).choices[0].message.content,h["a"].hide(),y.value=!0,m["a"].success(t.$t("log.debugsuccess")))}catch(e){m["a"].error(t.$t("log.debugFail")),h["a"].hide()}},K=Object(n["ref"])([]),Z=Object(n["ref"])(!1),G=Object(n["ref"])(""),Q=Object(n["ref"])(""),W=Object(n["ref"])(""),X=Object(n["ref"])(""),ee=Object(n["ref"])([]),te=Object(n["ref"])([{name:"咨询服务",value:-1},{name:"案件询问",value:0},{name:"要素提取",value:1},{name:"文书生成",value:3}]),ae=async()=>{const e=await b();e&&(ee.value=e.data.getLegalDocumentProjects)},le=Object(n["ref"])([]),oe=async()=>{j.value=1,F()},ne=async()=>{j.value=1,F()},se=async()=>{j.value=1,F()},re=e=>{G.value=e.response,Z.value=!0},ce=e=>{console.log("1111111111111",X.value),I.value=e,""===E.value&&""===z.value&&""===X.value&&""===W.value?T():F()},ie=["glm-3-turbo","glm-4","glm-4-0520","glm-4-air","glm-4-airx","qwen-long","farui-plus","qwen-turbo","qwen-plus","qwen-max","gpt-3.5-turbo"],pe=e=>{console.log("1111111111111",X.value),j.value=e,""===E.value&&""===z.value&&""===X.value&&""===W.value?T():F()},ue=e=>{if(K.value=[],null!=e.messages){const t=e.messages.replace(/\\(?!")/g,"");K.value=JSON.parse(t.replaceAll(/\n/g,"\\n").replaceAll(/\t/g,"\\t").replaceAll(/\r/g,"\\r"))}O.value=!0},de=e=>{V.id=e.id,V.taskid=e.taskid,V.openid=e.openid,V.project=e.project,V.action=e.action,V.model=e.model,V.element=e.element,V.temperature=e.temperature,V.top_p=e.top_p,V.max_tokens=e.max_tokens,V.response=e.response,V.debugresponse="",V.kb_id=e.kb_id,V.kb_prompt=e.kb_prompt;const t=e.messages.replace(/\\(?!")/g,"");V.messages=JSON.parse(t.replaceAll(/\n/g,"\\n").replaceAll(/\t/g,"\\t").replaceAll(/\r/g,"\\r")),D.value=!0},me=async e=>{window.open("https://open.bigmodel.cn/appcenter_v1/knowledge/"+e.id)};return Object(n["onMounted"])((()=>{T(),$(),ae()})),{tableData:S,handleCheckbox:H,handleDetail:me,debugDialogVisible:D,currentPage:j,handleSizeChange:ce,chatmodels:ie,elementSelect:Q,elements:le,getAllCase:ae,gotoProject:A,kbList:w,handleActionSelect:ne,handleProjectSelect:se,projectSelect:W,actionSelect:X,actions:te,projects:ee,handleDebug:de,handleElementSelect:oe,handleChatHistory:ue,handleCurrentChange:pe,format:L,handleInputSearch:J,handleResponse:re,responsecontent:G,pageSize:I,responseDialogVisible:Z,chatHistory:K,apiJson:x,apiResponseDialogVisible:y,chatHistoryDialogVisible:O,handleManage:U,handleState:q,getActionLabel:M,total:C,traceInfo:V,searchValue:E,searchTraceId:z,badAndUnsolved:R,badFeedback:N,handeSubmit:B,handleSolved:P}},methods:{generateRandomKey(){const e=1e4,t=99999;return Math.floor(Math.random()*(t-e+1))+e}}}),y=$,x=(a("73e0"),a("2877")),S=a("c1d0"),j=a("eebe"),I=a.n(j),C=Object(x["a"])(y,l,o,!1,null,"5fbab2a3",null);t["default"]=C.exports;I()(C,"components",{QSlider:S["a"]})},cbf0:function(e,t,a){}}]);